<!DOCTYPE html>
<html>
<head>
    <title>Part 5 - Database Performance</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 40px; background: #263238; color: #eceff1; }
        h1 { color: #80cbc4; }
        .db-info { background: #37474f; padding: 20px; border-radius: 8px; margin-bottom: 20px; }
        .db-type { display: inline-block; padding: 6px 14px; border-radius: 20px; font-weight: bold; }
        .db-type.postgresql { background: #336791; }
        .db-type.mysql { background: #4479a1; }
        .db-type.sqlite { background: #003b57; }
        .db-url { font-family: monospace; font-size: 12px; color: #b0bec5; margin-top: 8px; }
        table { width: 100%; border-collapse: collapse; background: #37474f; }
        th, td { padding: 12px; border-bottom: 1px solid #455a64; }
        th { background: #455a64; color: #80cbc4; }
        .btn { padding: 8px 16px; text-decoration: none; border-radius: 4px; }
        .btn-add { background: #26a69a; color: white; }
        .btn-delete { background: #ef5350; color: white; }
        .price { color: #81c784; font-weight: bold; }
    </style>
</head>
<body>

<h1>Product Inventory (Part 5)</h1>

<div class="db-info">
    <p><b>Current Database:</b></p>
    <span class="db-type {{ db_type.lower() }}">{{ db_type }}</span>
    <div class="db-url">{{ db_url }}</div>
    <p style="margin-top: 10px;">
        <b>Query Execution Time:</b> {{ query_time }} ms
    </p>
</div>

<a href="{{ url_for('add_product') }}" class="btn btn-add">+ Add Product</a>

<table>
    <tr>
        <th>ID</th>
        <th>Name</th>
        <th>Price</th>
        <th>Stock</th>
        <th>Description</th>
        <th>Action</th>
    </tr>
    {% for product in products %}
    <tr>
        <td>{{ product.id }}</td>
        <td>{{ product.name }}</td>
        <td class="price">${{ "%.2f"|format(product.price) }}</td>
        <td>{{ product.stock }}</td>
        <td>{{ product.description or "-" }}</td>
        <td>
            <a href="{{ url_for('delete_product', id=product.id) }}"
               class="btn btn-delete"
               onclick="return confirm('Delete this product?')">Delete</a>
        </td>
    </tr>
    {% endfor %}
</table>

</body>
</html>