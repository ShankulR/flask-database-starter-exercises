<!DOCTYPE html>
<html>
<head>
<title>Student Management</title>
<style>
body{font-family:Arial;background:#f5f5f5;margin:40px;}
table{width:100%;border-collapse:collapse;background:white;}
th,td{padding:12px;border:1px solid #ccc;}
th{background:#2196F3;color:white;}
.btn{padding:8px 15px;text-decoration:none;border-radius:4px;}
.add{background:#4CAF50;color:white;}
.edit{background:#2196F3;color:white;}
.del{background:#f44336;color:white;}
.flash{padding:10px;margin:10px 0;}
.flash.success{background:#d4edda;}
.flash.danger{background:#f8d7da;}
</style>
</head>
<body>

<h2>Student Management (Part 2 - Full CRUD)</h2>

{% for c,m in get_flashed_messages(with_categories=true) %}
<div class="flash {{c}}">{{m}}</div>
{% endfor %}

<a href="/add" class="btn add">+ Add Student</a>

<form method="POST" style="margin:15px 0;">
<input type="text" name="search" placeholder="Search by name" required>
<button>Search</button>
<a href="/" class="btn del">Reset</a>
</form>

<table>
<tr><th>ID</th><th>Name</th><th>Email</th><th>Course</th><th>Actions</th></tr>

{% for s in students %}
<tr>
<td>{{s.id}}</td>
<td>{{s.name}}</td>
<td>{{s.email}}</td>
<td>{{s.course}}</td>
<td>
<a href="/edit/{{s.id}}" class="btn edit">Edit</a>
<a href="/delete/{{s.id}}" class="btn del"
onclick="return confirm('Delete?')">Delete</a>
</td>
</tr>
{% endfor %}
</table>

</body>
</html>
